<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Rangliste</title>
    <script src="src/js/jquery-3.2.1-min.js"></script>
    <script src="src/js/papaparse.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        setInterval(function(){
          $.ajax({url: "rangliste.csv", cache: false, success: function(data){
            var results = Papa.parse(data, { skipEmptyLines: true});
            var list = results.data; 
            list.sort(function(a, b) {
              return b[1] - a[1];
            });
            $(".row").remove();
	    var rang = 1;
            $.each( list, function(i, val){
              $('#rankingtable').append('<tr class="row"><td>'+rang+'</td><td>'+val[0]+'</td><td>'+val[1]+'</td></tr>');
              rang = rang + 1;
            });
          }});
        },3000);
      }); 
    </script>
  </head>
  <body>
    <table border='1' id='rankingtable'>
    </table>
  </body>
</html>
